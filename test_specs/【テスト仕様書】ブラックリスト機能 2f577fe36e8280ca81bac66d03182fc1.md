# 【テスト仕様書】ブラックリスト機能

## 基本情報

- **作成日**: 2025 年 12 月 23 日
- **対象バージョン**: リリース前最終版
- **テスト対象**: ブラックリストメールの一覧表示、詳細確認、追加・解除
- **関連実装**:
    - `src/components/environments/BlackListMailManager/index.tsx`
    - `src/components/ecosystems/Sidebar2/BlackListMail.tsx`
    - `src/components/ecosystems/BlackListMail/content/index.tsx`

---

## 8. ブラックリスト機能 (/black-list-mails)

### 基本情報

- **URL**: `/black-list-mails`
- **コンポーネント**: `src/components/environments/BlackListMailManager/`
- **機能概要**: 迷惑メールや不正利用防止のため、特定のメールアドレスをブラックリストとして管理する機能。

### テスト項目

### 1. ブラックリスト管理テスト (FUNC)

| 項目 ID | 操作/確認内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| BL-FUNC-001 | 一覧表示 | ブラックリスト管理画面へアクセス。<br>URL: `/black-list-mails` | 登録済みのブラックリストメールアドレス一覧が表示されること。 |  |  |  |
| BL-FUNC-002 | 詳細表示 | 一覧から任意のアドレスを選択。<br>【期待動作】<br>・画面右側（またはサブカラム）に詳細情報が表示されること。<br>・URL が `/black-list-mails/{encodedEmail}` に遷移すること。 |  |  |  |  |
| BL-FUNC-003 | 新規登録 | 「追加」ボタン等から新しいメールアドレスを登録。<br>【期待動作】<br>・登録フォームが表示され、入力・保存ができること。<br>・保存後、一覧に追加されること。 |  |  |  |  |
| BL-FUNC-004 | 解除（削除） | 詳細画面または一覧から削除操作を実行。<br>【期待動作】<br>・確認ダイアログが表示され、承認すると削除されること。<br>・一覧から非表示になること。 |  |  |  |  |

### 2. 権限テスト (AUTH)

| 項目 ID | 確認内容 | 期待結果 | 実施者 | 実施日 | 結果 | 備考 |
| --- | --- | --- | --- | --- | --- | --- |
| BL-AUTH-001 | 権限なしアクセス | `blackListMail:list` 権限を持たないユーザーでアクセス。<br>【期待動作】<br>・アクセス拒否（403）ページ、または「権限がありません」と表示されること。<br>・サイドバーにメニューが表示されないこと。 |  |  |  |  |

---

## テスト環境情報

- **テスト環境 URL**: [https://staging.follot-biz.com](https://staging.follot-biz.com/)
- **テストアカウント**: 管理者アカウント（SuperAdmin 等）
- **ブラウザ**: Chrome 最新版、Safari 最新版、Edge 最新版